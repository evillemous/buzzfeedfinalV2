
=== EMERGENCY DEPLOYMENT SCRIPT ===
1. Installing essential dependencies...
added 2 packages in 906ms
up to date, audited 457 packages in 1s
76 packages are looking for funding
  run `npm fund` for details
2 moderate severity vulnerabilities
To address all issues, run:
  npm audit fix
Run `npm audit` for details.
âœ… Essential dependencies installed
2. Setting up server code...
Creating direct server file...
âœ… Server files copied
3. Fixing server code issues...
âœ… Server code created
4. Creating public directory...
âœ… Created public files
5. Creating .env file...
âœ… Created .env file
=== DEPLOYMENT SCRIPT COMPLETE ===
For Render.com deployment:
1. Build Command: node deploy.cjs
2. Start Command: NODE_ENV=production node dist/index.js
==> Uploading build...
==> Uploaded in 4.8s. Compression took 3.7s
==> Build successful ðŸŽ‰
==> Deploying...
==> Exited with status 1
==> Common ways to troubleshoot your deploy: https://render.com/docs/troubleshooting-deploys
==> Running 'NODE_ENV=production node dist/index.js'
file:///opt/render/project/src/dist/index.js:3
const express = require('express');
                ^
ReferenceError: require is not defined in ES module scope, you can use import instead
This file is being treated as an ES module because it has a '.js' file extension and '/opt/render/project/src/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.
    at file:///opt/render/project/src/dist/index.js:3:17
    at ModuleJob.run (node:internal/modules/esm/module_job:271:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:578:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:116:5)
Node.js v22.14.0
==> Running 'NODE_ENV=production node dist/index.js'
file:///opt/render/project/src/dist/index.js:3
const express = require('express');
                ^
ReferenceError: require is not defined in ES module scope, you can use import instead
This file is being treated as an ES module because it has a '.js' file extension and '/opt/render/project/src/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.
    at file:///opt/render/project/src/dist/index.js:3:17
    at ModuleJob.run (node:internal/modules/esm/module_job:271:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:578:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:116:5)
Node.js v22.14.0